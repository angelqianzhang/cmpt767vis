<html>
<head>
    <meta HTTP-EQUIV="X-UA-COMPATIBLE" CONTENT="IE=9" >
    <meta http-equiv="Content-type" content="text/html; charset=utf-8">
    <title>US Trade Deficit Data Visualization D3.js</title>
    <link type="text/css" rel="stylesheet" href="style.css">

    <script src="https://d3js.org/d3.v3.min.js"></script>
    <script type="text/javascript" src="js/trigonometry.js"></script>

    <script type="text/javascript" src="js/arc.js"></script>

    <script type="text/javascript" src="js/functor.js"></script>
    <script type="text/javascript" src="js/source.js"></script>
    <script type="text/javascript" src="js/target.js"></script>


    <script type="text/javascript" src="js/arc-chord.js"></script>
    <script type="text/javascript" src="js/svg/arc-chord.js"></script>

    <script type="text/javascript" src="js/gradients.js"></script>

</head>
<body>



<div id="bpg">

    <!--[if IE 6]>
    <div id="bpg-error">
        <p>1 This interactive graphic requires a browser with SVG support, such as <a href="http://www.google.com/chrome">Chrome</a>, <a href="http://www.mozilla.org/en-US/firefox/">Firefox</a>, <a href="http://www.apple.com/safari/download/">Safari</a> or the latest <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home">Internet Explorer 9</a>. </p>
        <img src="images/browserCheck.jpg" alt="Error">
        <div id="bpg-chartFrame" style="display:none;">
        </div>
    <![endif]-->

    <!--[if IE 7]>
    <div id="bpg-error">
        <p>2 This interactive graphic requires a browser with SVG support, such as <a href="http://www.google.com/chrome">Chrome</a>, <a href="http://www.mozilla.org/en-US/firefox/">Firefox</a>, <a href="http://www.apple.com/safari/download/">Safari</a> or the latest <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home">Internet Explorer 9</a>. </p>
        <img src="images/browserCheck.jpg" alt="Error">
        <div id="bpg-chartFrame" style="display:none;">

    <![endif]-->

    <!--[if IE 8]>
    <div id="bpg-error">
        <p>3 This interactive graphic requires a browser with SVG support, such as <a href="http://www.google.com/chrome">Chrome</a>, <a href="http://www.mozilla.org/en-US/firefox/">Firefox</a>, <a href="http://www.apple.com/safari/download/">Safari</a> or the latest <a href="http://windows.microsoft.com/en-US/internet-explorer/products/ie/home">Internet Explorer 9</a>. </p>
        <img src="images/browserCheck.jpg" alt="Error">
        <div id="bpg-chartFrame" style="display:none;">

    <![endif]-->

    <!--[if IE 9]>
    <div id="bpg-chartFrame">
    <![endif]-->

    <!--[if !IE]>
    <div id="bpg-chartFrame">
    <![endif]-->



    <div id="mainDiv">
        <p><br><br></p>
        <span id="countryTitle" style="font-weight:bold; font-size: 60px;">My Selected Country</span>
        <p><br><br></p>

        <div id="imgDiv" style="width:1000px; high:1000px; margin:0px auto; margin-top:10px">

            <!--<img id="playPause" src="images/pause.jpeg" width="80" height="80" style="float:left"/>-->
            <div style="font-size:39px; color:#2F4F4F; float:left; margin-top:4px; margin-left:4px">
                click on a timeline year to skip to that point.</div>
        </div>

        <div id="svgDiv" style="font-size:20px"></div>

    </div>
    <div id="toolTip" class="tooltip" style="opacity:0; width:200px; height:90px; position:absolute;">
        <div id="header1" class="header3"></div>
        <div class="header-rule"></div>
        <div id="head" class="header"></div>
        <div class="header-rule"></div>
        <div  id="header2" class="header2"></div>
        <div  class="tooltipTail"></div>
        <div></div>
    </div>

</div>

<script type="text/javascript" src="globals.js"></script>
<script type="text/javascript" src="initialize.js"></script>
<script type="text/javascript" src="events.js"></script>
<script type="text/javascript" src="data.js?version=1"></script>
<script type="text/javascript" src="_buildChords.js"></script>
<script type="text/javascript" src="update.js"></script>

<script type="text/javascript">

        initialize();

        var myCountry = getUrlParam('country','DefaultCountry');

        setCountryTitle(myCountry);

        fetchData(myCountry);


        function run() {

            if (month < 11) month++; else {
                month=0;
                if (year < countriesGrouped.length-1) year++;
            }
            if (month==maxMonth && year==maxYear)  {
                month=0;
                year=0;
            }
            else {
                update(year,month);
            }
        }

        function getUrlVars() {
            var vars = {};
            var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m,key,value) {
                vars[key] = value;
            });
            return vars;
        }

        function getUrlParam(parameter, defaultvalue){
            var urlparameter = defaultvalue;
            if(window.location.href.indexOf(parameter) > -1){
                urlparameter = getUrlVars()[parameter];
                }
            return urlparameter;
        }




    </script>

</body>
</html>
